{% extends 'base.html.twig' %}

{% block title %}Editar Cliente - Pessoa Física{% endblock %}

{% block body %}
<div class="container mt-4">
    <h2 class="mb-3">Editar Cliente - Pessoa Física</h2>

    {{ form_start(form, {'attr': {'enctype': 'multipart/form-data'}}) }}

    <!-- Dados Pessoais -->
    <div class="card mb-4 shadow-sm">
        <div class="card-header bg-primary text-white"><h5>Dados Pessoais</h5></div>
        <div class="card-body">
            <div class="mb-3">
                {{ form_label(form.nomeCompleto, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.nomeCompleto, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.nomeCompleto) }}
            </div>
            <div class="row">
                <div class="col-md-4 mb-3">
                    {{ form_label(form.cpf, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.cpf, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.cpf) }}
                </div>
                <div class="col-md-4 mb-3">
                    {{ form_label(form.dataNascimento, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.dataNascimento, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.dataNascimento) }}
                </div>
                <div class="col-md-4 mb-3">
                    {{ form_label(form.estadoCivil, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.estadoCivil, {'attr': {'class': 'form-select'}}) }}
                    {{ form_errors(form.estadoCivil) }}
                </div>
            </div>
            <div class="mb-3">
                {{ form_label(form.profissao, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.profissao, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.profissao) }}
            </div>
        </div>
    </div>

    <!-- RG -->
    <div class="card mb-4 shadow-sm">
        <div class="card-header bg-success text-white"><h5>RG</h5></div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-4 mb-3">
                    {{ form_label(form.rg, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.rg, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.rg) }}
                </div>
                <div class="col-md-4 mb-3">
                    {{ form_label(form.rgOrgaoExpedidor, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.rgOrgaoExpedidor, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.rgOrgaoExpedidor) }}
                </div>
                <div class="col-md-4 mb-3">
                    {{ form_label(form.rgDataEmissao, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.rgDataEmissao, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.rgDataEmissao) }}
                </div>
            </div>
        </div>
    </div>

    <!-- Contato -->
    <div class="card mb-4 shadow-sm">
        <div class="card-header bg-info text-white"><h5>Contato</h5></div>
        <div class="card-body">
            <div class="mb-3">
                {{ form_label(form.email, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.email) }}
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    {{ form_label(form.telefoneCelular, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.telefoneCelular, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.telefoneCelular) }}
                </div>
                <div class="col-md-6 mb-3">
                    {{ form_label(form.telefoneFixo, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.telefoneFixo, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.telefoneFixo) }}
                </div>
            </div>
        </div>
    </div>

    <!-- Endereço -->
    <div class="card mb-4 shadow-sm">
        <div class="card-header bg-warning text-white"><h5>Endereço</h5></div>
        <div class="card-body">
            <div class="mb-3">
                {{ form_label(form.cep, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.cep, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.cep) }}
            </div>
            <div class="mb-3">
                {{ form_label(form.endereco, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.endereco, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.endereco) }}
            </div>
            <div class="mb-3">
                {{ form_label(form.complemento, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.complemento, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.complemento) }}
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    {{ form_label(form.cidade, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.cidade, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.cidade) }}
                </div>
                <div class="col-md-2 mb-3">
                    {{ form_label(form.estado, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.estado, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.estado) }}
                </div>
            </div>
        </div>
    </div>

    <!-- Contrato -->
    <div class="card mb-4 shadow-sm">
        <div class="card-header bg-dark text-white"><h5>Contrato</h5></div>
        <div class="card-body">
            <div class="mb-3">
                {{ form_label(form.contratoFile, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.contratoFile, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.contratoFile) }}
            </div>
            {% if cliente.contratoArquivo %}
                <a href="/uploads/contratos/{{ cliente.contratoArquivo }}" target="_blank" class="btn btn-outline-primary">Ver Contrato</a>
            {% else %}
                <span class="text-muted">Nenhum contrato enviado</span>
            {% endif %}
        </div>
    </div>

    <button class="btn btn-success btn-lg mt-3">Salvar Alterações</button>
    {{ form_end(form) }}

    <a href="{{ path('cliente_index') }}" class="btn btn-secondary mt-3">Voltar</a>
</div>
{% endblock %}
