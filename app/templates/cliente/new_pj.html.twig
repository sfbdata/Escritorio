{% extends 'base.html.twig' %}

{% block title %}Novo Cliente PJ{% endblock %}

{% block body %}
<div class="container mt-4">
    <h2 class="mb-3">Novo Cliente - Pessoa Jurídica</h2>

    {% if preCadastro is defined %}
        <div class="alert alert-info mb-3">
            <strong>ℹ️ Informação:</strong> Dados pré-preenchidos a partir do Pré-Cadastro de <strong>{{ preCadastro.nomeCliente }}</strong>. Você pode editar os dados conforme necessário.
        </div>
    {% endif %}

    {{ form_start(form, {'attr': {'enctype': 'multipart/form-data'}}) }}

    <!-- Dados da Empresa -->
    <div class="card mb-4 shadow-sm">
        <div class="card-header bg-primary text-white"><h5>Dados da Empresa</h5></div>
        <div class="card-body">
            <div class="mb-3">
                {{ form_label(form.razaoSocial, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.razaoSocial, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.razaoSocial) }}
            </div>
            <div class="mb-3">
                {{ form_label(form.nomeFantasia, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.nomeFantasia, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.nomeFantasia) }}
            </div>
            <div class="row">
                <div class="col-md-4 mb-3">
                    {{ form_label(form.cnpj, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.cnpj, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.cnpj) }}
                </div>
                <div class="col-md-4 mb-3">
                    {{ form_label(form.inscricaoEstadual, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.inscricaoEstadual, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.inscricaoEstadual) }}
                </div>
                <div class="col-md-4 mb-3">
                    {{ form_label(form.inscricaoMunicipal, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.inscricaoMunicipal, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.inscricaoMunicipal) }}
                </div>
            </div>
        </div>
    </div>

    <!-- Representante Legal -->
    <div class="card mb-4 shadow-sm">
        <div class="card-header bg-success text-white"><h5>Representante Legal</h5></div>
        <div class="card-body">
            <div class="mb-3">
                {{ form_label(form.representanteLegal, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.representanteLegal, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.representanteLegal) }}
            </div>
            <div class="row">
                <div class="col-md-4 mb-3">
                    {{ form_label(form.representanteCpf, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.representanteCpf, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.representanteCpf) }}
                </div>
                <div class="col-md-4 mb-3">
                    {{ form_label(form.representanteRg, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.representanteRg, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.representanteRg) }}
                </div>
                <div class="col-md-4 mb-3">
                    {{ form_label(form.representanteCargo, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.representanteCargo, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.representanteCargo) }}
                </div>
            </div>
        </div>
    </div>

    <!-- Contato -->
    <div class="card mb-4 shadow-sm">
        <div class="card-header bg-info text-white"><h5>Contato</h5></div>
        <div class="card-body">
            <div class="mb-3">
                {{ form_label(form.email, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.email) }}
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    {{ form_label(form.telefoneCelular, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.telefoneCelular, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.telefoneCelular) }}
                </div>
                <div class="col-md-6 mb-3">
                    {{ form_label(form.telefoneFixo, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.telefoneFixo, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.telefoneFixo) }}
                </div>
            </div>
        </div>
    </div>

    <!-- Endereço -->
    <div class="card mb-4 shadow-sm">
        <div class="card-header bg-warning text-white"><h5>Endereço</h5></div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-4 mb-3">
                    {{ form_label(form.cep, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.cep, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.cep) }}
                </div>
            </div>
            <div class="mb-3">
                {{ form_label(form.endereco, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.endereco, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.endereco) }}
            </div>
            <div class="mb-3">
                {{ form_label(form.complemento, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.complemento, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.complemento) }}
            </div>
            <div class="mb-3">
                {{ form_label(form.enderecSede, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.enderecSede, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.enderecSede) }}
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    {{ form_label(form.cidade, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.cidade, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.cidade) }}
                </div>
                <div class="col-md-2 mb-3">
                    {{ form_label(form.estado, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.estado, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.estado) }}
                </div>
            </div>
        </div>
    </div>

    <!-- Contrato -->
    <div class="card mb-4 shadow-sm">
        <div class="card-header bg-dark text-white"><h5>Contrato</h5></div>
        <div class="card-body">
            <div class="mb-3">
                {{ form_label(form.contratoFile, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.contratoFile, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.contratoFile) }}
            </div>
        </div>
    </div>

    <button class="btn btn-success btn-lg mt-3">Salvar Cliente</button>
    {{ form_end(form) }}

    <a href="{{ path('cliente_index') }}" class="btn btn-secondary mt-3">Voltar</a>
</div>
{% endblock %}
